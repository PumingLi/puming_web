{% extends 'base.html' %}
{% load static %}
{% block extra_head %}
<link rel="stylesheet" type="text/css" href="{% static 'diet.css' %}">
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
  var caloriesHash = JSON.parse('{{ calories_data|safe }}');
  var carbsHash = JSON.parse('{{ carbs_data|safe }}');
  var proteinHash = JSON.parse('{{ protein_data|safe }}');
  var fatHash = JSON.parse('{{ fat_data|safe }}');

  var pastelColors = JSON.parse('{{ pastel_colors|safe }}');
</script>
<script type="text/javascript" src="{% static 'js/graphs_details.js' %}"></script>
{% endblock %}

{% block title %}Diet Details{% endblock %}
{% block content %}
<div class="row">
  <div class="col-md-3"></div>
  <div class="col-md-6">
    <br>
    <table style="width:100%">
      <tr>
        <td>
          <a href="{% url 'day_view' prev_day.0 prev_day.1 prev_day.2 %}" class="align-bottom" style="float:left;"><img src="{% static 'left-arrow.png' %}" alt="left_arrow"></a>
        </td>
        <td>
          <h1 style="text-align:center;font-family:Galada;">{{ day.weekday }}, {{ day.month.month_num }}/{{ day.cur_date.day }}/{{ day.cur_date.year }}</h1>
        </td>
        <td>
          <a href="{% url 'day_view' next_day.0 next_day.1 next_day.2 %}" class="align-bottom" style="float:right;"><img src="{% static 'right-arrow.png' %}" alt="right_arrow"></a>
        </td>
      </tr>
    </table>
    <hr>
    <h1>Diet Breakdown</h1>
    <h2 style="text-align:center;">Calories</h2>

    <div id="calories-donut" style="width: 100%; height: 50%"></div>

    <div class="row">
      <div class="col-md-4">
        <h3 style="text-align:center;">Protein</h3>
        <div id="protein-donut" style="align:center; width:100%; height:30%"></div>
      </div>
      <div class="col-md-4">
        <h3 style="text-align:center;">Carbohydrates</h3>
        <div id="carb-donut" style="align:center; width:100%; height:30%"></div>
      </div>
      <div class="col-md-4">
        <h3 style="text-align:center;">Fats</h3>
        <div id="fat-donut" style="align:center; width:100%; height:30%"></div>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-md-6">
        <h1>Food Datatable</h1>
      </div>
      <div class="col-md-6">
        <button type="button" class="btn float-right" data-toggle="modal" data-target=".add-food-modal" style="background-color:#33001a;color:white;">Add Item</button>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade add-food-modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <form action="{% url 'add_food' day.cur_date.year day.month.month_num day.cur_date.day day.day_slug%}" method="post">
          <div class="modal-header">
            <h5 class="modal-title">Modal title</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
              {% csrf_token %}
              {{ form.as_p }}
              <!-- <div class="form-group row">
                <label for="item_name" class="col-sm-2 col-form-label">Item Name</label>
                <div class="col-sm-10">
                  <input class="form-control" id="item_name" placeholder="Rice">
                </div>
              </div>
              <div class="form-group row">
                <label for="item_calories" class="col-sm-2 col-form-label">Calories</label>
                <div class="col-sm-10">
                  <input class="form-control" id="item_calories" placeholder="100">
                </div>
              </div>
              <div class="form-group row">
                <label for="item_carbs" class="col-sm-2 col-form-label">Carbs (g)</label>
                <div class="col-sm-10">
                  <input class="form-control" id="item_carbs" placeholder="40">
                </div>
              </div>
              <div class="form-group row">
                <label for="item_protein" class="col-sm-2 col-form-label">Protein (g)</label>
                <div class="col-sm-10">
                  <input class="form-control" id="item_protein" placeholder="0">
                </div>
              </div>
              <div class="form-group row">
                <label for="item_fat" class="col-sm-2 col-form-label">Fat (g)</label>
                <div class="col-sm-10">
                  <input class="form-control" id="item_fat" placeholder="1">
                </div>
              </div>
              <div class="form-group row">
                <label for="item_type" class="col-sm-2 col-form-label">Item Type</label>
                <div class="col-sm-10">
                  <select class="form-control" id="item_type">
                    <option>Breakfast</option>
                    <option>Lunch</option>
                    <option>Dinner</option>
                    <option>Snack</option>
                    <option>Other</option>
                  </select>
                </div>
              </div> -->
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary">Add Food Item</button>
          </div>
        </form>

        </div>
      </div>
    </div>

    <table class="table" style="width: 100%">
      <thead>
        <tr>
          <th scope="col">Food</th>
          <th scope="col">Meal</th>
          <th scope="col">Calories</th>
          <th scope="col">Protein</th>
          <th scope="col">Carbs</th>
          <th scope="col">Fat</th>
        </tr>
      </thead>
      <tbody>
        {% for item in day_items %}
        <tr>
          <th scope="row">{{ item.name }}</th>
          <td>{{ item.type }}</td>
          <td>{{ item.calories }}</td>
          <td>{{ item.protein }}</td>
          <td>{{ item.carbs }}</td>
          <td>{{ item.fat }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <hr>
    <h1>Exercises</h1>
    <div class="row">
      <div class="col-md-6">
        <div class="content-card">
          <h4 style="text-align:center;">Push</h4>
          <table class="table" style="width: 100%; font-size: small">
            <thead>
              <tr>
                <th scope="col">Workout</th>
                <th scope="col">Sets</th>
                <th scope="col">Reps</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">Bench</th>
                <td>4</td>
                <td>8</td>
              </tr>
              <tr>
                <th scope="row">Cables</th>
                <td>4</td>
                <td>15</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="col-md-6">
        <div class="content-card">
          <h4 style="text-align:center;">Pull</h4>
          <table class="table" style="width: 100%; font-size: small">
            <thead>
              <tr>
                <th scope="col">Workout</th>
                <th scope="col">Sets</th>
                <th scope="col">Reps</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">Rows</th>
                <td>4</td>
                <td>8</td>
              </tr>
              <tr>
                <th scope="row">Pullups</th>
                <td>4</td>
                <td>15</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="col-md-6">
        <div class="content-card">
          <h4 style="text-align:center;">Legs</h4>
          <table class="table" style="width: 100%; font-size: small">
            <thead>
              <tr>
                <th scope="col">Workout</th>
                <th scope="col">Sets</th>
                <th scope="col">Reps</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">Squat</th>
                <td>4</td>
                <td>8</td>
              </tr>
              <tr>
                <th scope="row">Legpress</th>
                <td>4</td>
                <td>15</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="col-md-6">
        <div class="content-card">
          <h4 style="text-align:center;">Cardio</h4>
          <table class="table" style="width: 100%; font-size: small">
            <thead>
              <tr>
                <th scope="col">Workout</th>
                <th scope="col">Time (Min)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">Bike</th>
                <td>10</td>
              </tr>
              <tr>
                <th scope="row">Treadmill</th>
                <td>40</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <br>
  </div>
  <div class="col-md-3"></div>
</div>
{% endblock %}
